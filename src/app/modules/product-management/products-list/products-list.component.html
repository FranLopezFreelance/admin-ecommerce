<div class="display-flex page-title">
  <h3>Administración de Productos</h3>
  <div class="push-right">
    <button class="btn btn-primary btn-sm"
      (click)="createProduct()">
      Nuevo producto
    </button>
  </div>
</div>

<hr />

<div class="row">
  <div class="col-md-3 col-sm-12 col-12 mt-2">
    <input class="form-control form-control-sm"
      type="text"
      placeholder="Buscar ..."
      [(ngModel)]="filterValue"
      (ngModelChange)="filter()"
      aria-label="Buscar"
    />
  </div>
  <div class="col-md-3 col-sm-12 col-12 mt-2">
    <select
      class="form-select form-select-sm mb-3"
      aria-label=".form-select-sm"
      [(ngModel)]="sectionId"
      (ngModelChange)="sectionChange()">
        <option selected value="0">Todas las secciones</option>
        <option
          *ngFor="let section of sections"
          [value]="section.id">
            {{ section.name }}
        </option>
    </select>
  </div>
  <div class="col-md-4 col-sm-12 col-12 mt-2">
  </div>
</div>

<div class="row mt-2">
  <div class="col-12">
    <app-products-table
      *ngIf="filteredProducts && filteredProducts?.length"
      [products]="filteredProducts"
    ></app-products-table>

    <p *ngIf="!filteredProducts?.length && (filterValue?.length || sectionId > 0)">
      No hay productos que coincidan con la búsqueda
    </p>

  </div>
</div>
